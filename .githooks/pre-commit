#!/usr/bin/env python3
"""Thin wrapper that executes `.githooks/githooks.py` and forwards arguments.

This ensures Git (which expects a hook file named `pre-commit`) runs the
`githooks.py` script with the correct arguments while keeping a single
cross-platform Python script as the canonical hook implementation.
"""
from __future__ import annotations

import os
import subprocess
import sys


def main() -> int:
    this_dir = os.path.dirname(__file__)
    script = os.path.join(this_dir, "githooks.py")
    if not os.path.exists(script):
        print(f"Unified githooks script not found: {script}", file=sys.stderr)
        return 2
    cmd = [sys.executable, script] + sys.argv[1:]
    proc = subprocess.run(cmd)
    return proc.returncode


if __name__ == "__main__":
    sys.exit(main())
