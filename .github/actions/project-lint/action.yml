name: 'Project Lint'
description: 'Run linting checks for the project'

runs:
  using: 'composite'
  steps:
    - name: Run pre-commit on all files
      run: |
        JOBS=$(nproc 2>/dev/null || echo 2)
        echo "Using $JOBS parallel pre-commit jobs"
        pre-commit run --all-files --show-diff-on-failure -j "$JOBS"
      shell: bash
    - name: Run pre-commit pre-push hooks
      run: |
        JOBS=$(nproc 2>/dev/null || echo 2)
        echo "Running pre-push hooks with $JOBS jobs"
        pre-commit run --all-files --hook-stage pre-push -j "$JOBS"
      shell: bash
